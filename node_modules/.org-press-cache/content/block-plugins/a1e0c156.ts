// Source display only (not executed)
export default "import type { BlockPlugin } from \"org-press\";\n\nexport const chartBlockPlugin: BlockPlugin = {\n  name: \"chart\",\n  defaultExtension: \"js\",\n  languages: [\"javascript\", \"js\"],\n  matches: (block) => {\n    // Match blocks with :use chart parameter\n    return block.meta?.includes(\":use chart\");\n  },\n  priority: 15, // Higher priority than default JS plugin\n\n  transform: async (block, context) => {\n    // Generate code that creates and renders a chart\n    const code = `\nimport { Chart } from \"chart.js/auto\";\n\nconst config = ${block.value};\n\n// Create canvas and render chart\nconst canvas = document.createElement(\"canvas\");\ndocument.currentScript?.parentElement?.appendChild(canvas);\nnew Chart(canvas, config);\n    `;\n\n    return { code };\n  },\n};\n";