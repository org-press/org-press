
import renderJSCad from '@org-press/block-jscad/wrapper';
export * from 'virtual:org-press:block:jscad-model:content/plugins/jscad.org:7';

// Export render function - exporter will call this with container ID
export default function render(containerId) {
  const container = document.getElementById(containerId);
  if (!container) {
    console.error('[JSCad] Container not found:', containerId);
    return;
  }

  // Style the container for jscad
  container.className = 'jscad-wrapper';
  container.style.cssText = 'position: relative; height: 400px;';
  container.setAttribute('data-storage-key', 'block-content-plugins-jscad-org-7');

  // Import the model code from virtual module and render
  import('virtual:org-press:block:jscad-model:content/plugins/jscad.org:7').then((module) => {
    renderJSCad(container, module.default);
  }).catch(err => {
    console.error('[JSCad] Failed to load model:', err);
    container.innerHTML = '<div style="color: red;">Error loading JSCad model: ' + err.message + '</div>';
  });
}
      