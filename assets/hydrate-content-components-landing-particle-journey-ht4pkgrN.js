import{i as q}from"./hydrate-runtime-S5DTWFRe.js";import"./preload-helper-BXl3LOEh.js";const B=M=>1-Math.pow(1-M,3),I=(M,h,b)=>M+(h-M)*b;function z(M){const h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(M);return h?[parseInt(h[1],16),parseInt(h[2],16),parseInt(h[3],16)]:[255,255,255]}function W(M,h,b){const T=Math.round(I(M[0],h[0],b)),X=Math.round(I(M[1],h[1],b)),C=Math.round(I(M[2],h[2],b));return`rgb(${T}, ${X}, ${C})`}function A(M={}){const{particleCount:h=150,baseColor:b="#ffffff",goldColor:T="#ffd700",particleSize:X=3,glowSize:C=8}=M,y=document.createElement("canvas");y.className="particle-journey-canvas";const u=y.getContext("2d");let g=window.innerWidth,p=window.innerHeight,x=null,S=0,k=g/2,v=p/2;const Y=z(b),O=z(T),w=[{id:"hero",start:0,end:.12,formation:"sphere",flowDirection:"none"},{id:"code-blocks",start:.12,end:.35,formation:"code-block",flowDirection:"right"},{id:"ssg",start:.35,end:.55,formation:"terminal",flowDirection:"left"},{id:"cli",start:.55,end:.75,formation:"carousel",flowDirection:"right"},{id:"ai",start:.75,end:1,formation:"sunburst",flowDirection:"center",colorShift:!0}],P=[];for(let r=0;r<h;r++){const s=Math.random()*Math.PI*2,f=Math.random()*15;P.push({x:k+Math.cos(s)*f,y:v+Math.sin(s)*f,startX:k+Math.cos(s)*f,startY:v+Math.sin(s)*f,targetX:k+Math.cos(s)*f,targetY:v+Math.sin(s)*f,delay:Math.random()*.3,scale:.5+Math.random()*.5,baseScale:.5+Math.random()*.5,opacity:.6+Math.random()*.4,color:[...Y]})}function F(r,s,f){const t=[];switch(r){case"sphere":{for(let e=0;e<h;e++){const n=Math.random()*Math.PI*2,a=Math.random()*15;t.push({x:s+Math.cos(n)*a,y:f+Math.sin(n)*a})}break}case"code-block":{const e=Math.min(350,g*.35),n=Math.min(250,p*.35),a=g*.6,i=p*.5;for(let m=0;m<h;m++){const d=m/h;let l,c;if(d<.4){const o=d/.4*4;o<1?(l=a-e/2+o*e,c=i-n/2):o<2?(l=a+e/2,c=i-n/2+(o-1)*n):o<3?(l=a+e/2-(o-2)*e,c=i+n/2):(l=a-e/2,c=i+n/2-(o-3)*n)}else{const o=Math.floor((d-.4)/.12),$=(d-.4)%.12/.12;l=a-e/2+20+$*(e*.6-40*(o%3)),c=i-n/2+30+o*35}t.push({x:l+(Math.random()-.5)*4,y:c+(Math.random()-.5)*4})}break}case"terminal":{const e=Math.min(380,g*.4),n=Math.min(220,p*.3),a=g*.35,i=p*.5;for(let m=0;m<h;m++){const d=m/h;let l,c;if(d<.35){const o=d/.35*4;o<1?(l=a-e/2+o*e,c=i-n/2):o<2?(l=a+e/2,c=i-n/2+(o-1)*n):o<3?(l=a+e/2-(o-2)*e,c=i+n/2):(l=a-e/2,c=i+n/2-(o-3)*n)}else if(d<.45){const o=Math.floor((d-.35)/.033);l=a-e/2+25+o*18,c=i-n/2+15}else{const o=(d-.45)/.55;l=a-e/2+20+o*e*.7,c=i-n/2+50+Math.floor(o*3)*25}t.push({x:l+(Math.random()-.5)*3,y:c+(Math.random()-.5)*3})}break}case"carousel":{const e=Math.min(200,g*.2),n=Math.min(280,p*.4),a=g*.65,i=p*.5;for(let m=0;m<h;m++){const d=m/h;let l,c;if(d<.3){const o=d/.3*4;o<1?(l=a-e/2+o*e,c=i-n/2):o<2?(l=a+e/2,c=i-n/2+(o-1)*n):o<3?(l=a+e/2-(o-2)*e,c=i+n/2):(l=a-e/2,c=i+n/2-(o-3)*n)}else{const o=(d-.3)/.7,$=Math.floor(o*5),N=o*5%1;l=a-e/2+15+N*(e-30),c=i-n/2+35+$*50}t.push({x:l+(Math.random()-.5)*3,y:c+(Math.random()-.5)*3})}break}case"sunburst":{const e=g/2,n=p*.35;for(let a=0;a<h;a++){const i=a/h;if(i<.3){const m=Math.random()*Math.PI*2,d=Math.random()*25;t.push({x:e+Math.cos(m)*d,y:n+Math.sin(m)*d})}else{const m=(i-.3)/.7,d=12,c=Math.floor(m*d)/d*Math.PI*2-Math.PI/2,o=40+m*d%1*80;t.push({x:e+Math.cos(c)*o+(Math.random()-.5)*8,y:n+Math.sin(c)*o+(Math.random()-.5)*8})}}break}}return t}function _(r){for(let s=w.length-1;s>=0;s--)if(r>=w[s].start)return w[s];return w[0]}let D="hero";function R(r){const s=F(r.formation,g/2,p/2);for(let f=0;f<P.length;f++){const t=P[f];t.startX=t.x,t.startY=t.y,t.targetX=s[f]?.x??t.x,t.targetY=s[f]?.y??t.y,t.delay=Math.random()*.3}}function H(){u.clearRect(0,0,g,p);const r=_(S),s=r.end>r.start?Math.min(1,(S-r.start)/(r.end-r.start)*2):0;r.id!==D&&(D=r.id,R(r));const f=r.colorShift?s:0;u.globalCompositeOperation="screen";for(const t of P){const e=Math.max(0,Math.min(1,(s-t.delay)*1.5)),n=B(e);t.x=I(t.startX,t.targetX,n),t.y=I(t.startY,t.targetY,n);const a=W(Y,O,f),i=u.createRadialGradient(t.x,t.y,0,t.x,t.y,C*t.scale);i.addColorStop(0,a.replace("rgb","rgba").replace(")",`, ${t.opacity*.6})`)),i.addColorStop(1,a.replace("rgb","rgba").replace(")",", 0)")),u.fillStyle=i,u.beginPath(),u.arc(t.x,t.y,C*t.scale,0,Math.PI*2),u.fill()}u.globalCompositeOperation="source-over";for(const t of P){const e=W(Y,O,f);u.fillStyle=e.replace("rgb","rgba").replace(")",`, ${t.opacity})`),u.beginPath(),u.arc(t.x,t.y,X*t.scale,0,Math.PI*2),u.fill()}x=requestAnimationFrame(H)}function j(r,s){g=r,p=s,y.width=r*window.devicePixelRatio,y.height=s*window.devicePixelRatio,y.style.width=`${r}px`,y.style.height=`${s}px`,u.scale(window.devicePixelRatio,window.devicePixelRatio);const f=_(S);R(f)}return{canvas:y,start(){x||(j(g,p),R(w[0]),H())},stop(){x&&(cancelAnimationFrame(x),x=null)},setScrollProgress(r){S=Math.max(0,Math.min(1,r))},setSpherePosition(r,s){k=r,v=s},resize:j,destroy(){this.stop(),y.remove()}}}var E=A;const G=Object.freeze(Object.defineProperty({__proto__:null,createParticleJourney:A,default:E},Symbol.toStringTag,{value:"Module"})),J={"block-content-components-landing-particle-journey-org-0":{module:G,ext:"ts",isReact:!1,modeName:"dom"}};q(J);
